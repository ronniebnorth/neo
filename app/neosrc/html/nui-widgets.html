<ph-components>
  <template name="nui-icon">
    <style>
      :host {
        font-size: 50pt;
        color: #2f2;
      }
    </style>
    <content></content>
  </template>

  <template name="nui-button">
    <style>
    :host {
      display: inline-block;
      outline: none;
      width:1.5em;
      height:1.5em;
      line-height:1.5em;
      border: 2px solid #f5f5f5;
      border-radius: 50%;
      text-align:center;
      text-decoration:none;
      background: #464646;
      box-shadow: 0 0 3px gray;
      font-weight:bold;
      cursor: pointer;
    }

    span {
      color: #fff;
    }
    </style>
    <span><content></content></span>
    <script>
      class NuiButton extends NeoElement {
        constructor() {
          super();

          this.addEventListener('click', e => {
            var detail = {};

            if (this.getAttribute('name')) {
              detail.buttonName = this.getAttribute('name');
            }

            this.dispatchEvent(new CustomEvent('nui-button-click', {bubbles: true, composed: true, detail}));
            e.stopPropagation();

            return false;
          });

          if (this.size) {
            this.style.fontSize = this.size;
          }
        }

        get size() {
          return this.getAttribute('size');
        }

        set size(newSize) {
          if (this.getAttribute('size') != newSize) {
            this.setAttribute('size', newSize);
          }

          this.style.fontSize = newSize;
        }
      }
    </script>
  </template>

  <template name="nui-delete-button">
    <style>
      nui-button {
        background: red;
      }
    </style>

    <nui-button name="delete">&#x2716;</nui-button>
  </template>

  <template name="nui-hscroller">
    <style>
      :host {
        display: block;
      }

      div {
        display: flex;
        white-space: nowrap;
        overflow-x: scroll;
      }
    </style>
    <div><content></content></div>
  </template>

  <template name="nui-cursor">
    <style>
      :host {
        width: .25em;
        background-color: #333;
        min-height: 1em;
        display: inline-block;
      }

      :host(:focus) {
        animation: blinker .7s infinite;
        outline: 0px solid transparent;
      }

      @keyframes blinker {
        50% { opacity: 0; }
      }
    </style>
    <span>&#8203;</span>
    <script>
      class NuiCursor extends NeoElement {
        connectedCallback() {
          super.connectedCallback();

          this.setAttribute('tabindex', '0');
          $(this).parents().each((i, node) => {
            if (node.hasNeoParent) {
              node.classList.add('nui-cursor');
            }
          });

          this.focus();
        }

        disconnectedCallback() {
          super.disconnectedCallback();

          $('.nui-cursor').removeClass('nui-cursor');
        }

        get range() {
          var range =  new Range();
          range.selectNode(this);
          range.collapse(true);

          return range;
        }
      }
    </script>
  </template>

  <template name="nui-anchor">
    <style>
    :host {
      display: none;
    }
    </style>
    <content></content>
    <script>
    class NuiAnchor extends NeoElement {}
    </script>
  </template>

  <template name="nui-placeholder">
    <style>
    :host {
      background-color: #FCFF94;
    }
    </style>
    <content></content>
    <script>
    class NuiPlaceholder extends NeoElement {}
    </script>
  </template>
</ph-components>
