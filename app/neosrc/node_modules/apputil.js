/** Simplifies tracking number of occurrences of events in a hierarchical
structure. */
function addTally(o, keys) {
  if (typeof keys == 'string') {
    keys = [keys]
  }

  for (var i = 0; i < keys.length-1; i++) {
    if (!(keys[i] in o)) {
      o[keys[i]] = {};
    }

    o = o[keys[i]];
  }

  var lastKey = keys[keys.length-1];

  if (lastKey in o) {
    o[lastKey]++;
  } else {
    o[lastKey] = 1;
  }
}

var self = module.exports = {
  addTally
}
