'use strict';

const locations = {0: "", 1: "Left", 2: "Right", 3: "NumPad"};

var self = module.exports = {
  processKeyEvent(e) {
    var ne = {type: e.type, code: e.code, key: e.key, originalEvent: e};

    ne.hasModifier = e.ctrlKey || e.altKey || e.metaKey;
    ne.isCommand = e.key == e.code || e.key + locations[e.location] == e.code || ne.hasModifier;
    ne.isData = !ne.isCommand;
    ne.isChar = String.fromCharCode(e.key.charCodeAt(0)) == e.key;

    if (ne.isData) {
      ne.data = ne.key;
    } else {
      ne.command = ne.key;
    }

    return ne;
  }
}
