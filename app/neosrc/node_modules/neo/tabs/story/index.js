const path = require('path');

const log = require('log');
const neo = require('neo');

const $ = require('jquery');

self = module.exports = {
  get StoryFolders() {
    return [path.join(__dirname, 'docs')];
  },

  get name() {
    return 'story';
  },

  openTab() {
    var workDiv = $(neo.StoryPane).find('nui-work');
    var editor = document.createElement('story-editor');
    editor.story = neo.CurrentStory;
    $(workDiv).html(editor);
  },

  closeTab() {
    var workDiv = $(neo.StoryPane).find('nui-work');
    
    $(workDiv).find('story-editor').remove();
  }
}

function initTab() {
  var moduleLink = $('<link rel="import" href="' + path.join(__dirname, 'index.html') + '"></link>');
  $('head').append(moduleLink);

  moduleLink = $('<link rel="import" href="' + path.join(__dirname, 'neo-story.html') + '"></link>');
  $('head').append(moduleLink);
};

initTab();
